<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SOPHIE COMPUTER</title>
    <link rel="stylesheet" href="/style-sidebar.css">
    <link rel="icon" type="image/x-icon" href="/media/star-blink.gif">
  </head>
  <body class="webpage">
    <div class="sidebar">
      <div class="sidebar-text-area"> 
        <p class="sidebar-text">
          <img src="/media/star-blink.gif", style="height: 1em">
          <a href="javascript:void(0);" onclick="return change_me('/main.html', false);">Home</a></p>
        <p class="sidebar-text"> 
          <img src="/media/star-blink.gif", style="height: 1em">
          <a href="javascript:void(0);" onclick="return change_me('/posts/index.html', false);">Blog</a></p>
      </div>

      <div class="sidebar-text-area"> 
        <p class="sidebar-text-title" style="padding-bottom: 5%"> 
          <a href="javascript:void(0);" onclick="return change_me('/papers/index.html', false);">ENTER THE PAPERZONE</a></p>
        <img src="/media/paper-girl.png" alt="Happy girl thrilled to read research papers, text says 'Girls when they need to read research papers', 'wahoo'" style="max-width: 100%">
      </div>

    </div>
    
    <div class="main-area">
      <div class="title-area">  
        <marquee id="title-marquee"> 
          <div style="width: calc(100% - 120px);">
            <p class="title-text">SOPHIE SOPHIE SOPHIE SOPHIE SOPHIE SOPHIE SOPHIE SOPHIE</p>
          </div>  
        </marquee>
      </div>
      <div class="topbar"> 
        <table class="topbar-table"> 
          <tr>
            <th style="border-left: 0;">
              <img src="/media/star-blink.gif", style="height: 1em">
              <a href="javascript:void(0);" onclick="return change_me('/main.html', false);" class="sidebar-text">Home</a>
            </th>
            <th style="border-right: 0;">
              <img src="/media/star-blink.gif", style="height: 1em">
              <a href="javascript:void(0);" onclick="return change_me('/posts/index.html', false);" class="sidebar-text">Blog</a>
            </th>
            <th style="border-right: 0;">
              <img src="/media/star-blink.gif", style="height: 1em">
              <a href="javascript:void(0);" onclick="return change_me('/papers/index.html', false);" class="sidebar-text">Paperzone</a>
            </th>
          </tr> 
        </table>
      </div>
      <div>
        <object 
          data="main.html" 
          id="iframe-content" 
          name="iframe-content" 
          onload='javascript:(function(o){
            const details = o.contentWindow.document.querySelector("details");
            if (details) {
              const wasOpen = details.open;
              details.open = true; // Temporarily measure full height;
              o.style.height = o.contentWindow.document.body.scrollHeight + "px";
              details.open = wasOpen; 
            }
            else {
              o.style.height = o.contentWindow.document.body.scrollHeight + "px";
            }
          }(this));' 
          style="width: 100%; border: none; overflow: hidden;"></object>
      </div>
    </div>

    <div class="sidebar">
      <div class="sidebar-text-area"> 
        <p class="sidebar-text-title" style="padding-bottom: 5%"> 
          THE SOPHIE ITSELF</p>
        <div class="avatar-gif" id="avatar-gif" style="width: 100%; height: 100%"></div>
        <p class="sidebar-text-subtitle" style="padding-top: 10px">
          Strongest in the Universe</p>
      </div>
      <div class="sidebar-text-area"> 
        <p class="sidebar-text-title" style="padding-bottom: 5%"> 
          VIDEO OF THE TIMES</p>
        <iframe width="100%" height="315" src="https://www.youtube.com/embed/n5n7CSGPzqw?si=pNOgFj6k4j7HNhKC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </div>
    </div>

    <script>
      function change_me(loc, replace) {
        var iframe = document.getElementById('iframe-content'); 
        iframe.data = loc + '?contentonly';
        if (replace)
          window.history.replaceState(null, null, loc); 
        else 
          window.history.pushState(null, null, loc); 
      }

      const query_string = window.location.search; 
      const url_params = new URLSearchParams(query_string); 
      if (url_params.has('redirect')) {
        loc = url_params.get('redirect'); 
        change_me(loc, true); 
      }
      else if (url_params.has('contentonly')) {
        // This page can't be displayed as content! Just resolve it to "main.html".
        window.location.replace("main.html?contentonly"); 
      }
      else {
        change_me('main.html', true); 
      }

      window.addEventListener('popstate', function(event) {
        iframe = document.getElementById('iframe-content');
        
        idx = iframe.data.indexOf('?');
        if (idx == -1) front_part = iframe.data; 
        else front_part = iframe.data.substring(0, idx); 
        
        if (front_part != document.location)
          iframe.data = document.location + '?contentonly';
      }); 
    </script> 

  </body>
</html>
